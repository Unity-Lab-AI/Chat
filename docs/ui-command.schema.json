{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "UI Command",
  "type": "object",
  "properties": {
    "action": {
      "type": "string",
      "enum": ["openScreensaver", "closeScreensaver", "changeTheme", "changeModel", "setValue", "click"]
    },
    "target": {
      "type": "string",
      "description": "Target element or value depending on action"
    },
    "value": {
      "type": "string",
      "description": "Value to apply when action is setValue"
    }
  },
  "required": ["action"],
  "additionalProperties": false,
  "allOf": [
    {
      "if": { "properties": { "action": { "const": "changeTheme" } } },
      "then": { "required": ["target"] }
    },
    {
      "if": { "properties": { "action": { "const": "changeModel" } } },
      "then": { "required": ["target"] }
    },
    {
      "if": { "properties": { "action": { "const": "setValue" } } },
      "then": { "required": ["target", "value"] }
    },
    {
      "if": { "properties": { "action": { "const": "click" } } },
      "then": { "required": ["target"] }
    }
  ]
}
